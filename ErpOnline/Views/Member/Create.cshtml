@model bcbp_101.Models.bcbp.MemberModel


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <br />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="panel panel-info">
            <div class="panel-heading"><h4>Member details - Create</h4></div>
            <div class="panel-body">
                <div class="form-group">
                    @Html.LabelFor(model => model.FirstName, htmlAttributes: new { @class = "control-label col-md-2" })

                    <div class="col-md-3" style="margin-top: 5px;">
                        @Html.EditorFor(model => model.FirstName, new { htmlAttributes = new { @class = "form-control", placeholder = "First Name" } })
                        @Html.ValidationMessageFor(model => model.FirstName, "", new { @class = "text-danger" })
                    </div>

                    <div class="col-md-3" style="margin-top: 5px;">
                        @Html.EditorFor(model => model.MidName, new { htmlAttributes = new { @class = "form-control", placeholder = "Middle Name" } })
                        @Html.ValidationMessageFor(model => model.MidName, "", new { @class = "text-danger" })
                    </div>

                    <div class="col-md-3" style="margin-top: 5px;">
                        @Html.EditorFor(model => model.LastName, new { htmlAttributes = new { @class = "form-control", placeholder = "Family Name" } })
                        @Html.ValidationMessageFor(model => model.LastName, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="col-md-0">
                    <div class="form-group">
                        @Html.LabelFor(model => model.address, htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-3" style="margin-top: 5px;">
                            @Html.EditorFor(model => model.address, new { htmlAttributes = new { @class = "form-control", placeholder = "Number of House/Street" } })
                            @Html.ValidationMessageFor(model => model.address, "", new { @class = "text-danger" })
                        </div>
                        <div class="col-md-3" style="margin-top: 5px;">
                            @Html.EditorFor(model => model.City, new { htmlAttributes = new { @class = "form-control", placeholder = "City" } })
                            @Html.ValidationMessageFor(model => model.City, "", new { @class = "text-danger" })
                        </div>
                        <div class="col-md-3" style="margin-top: 5px;">
                            @Html.EditorFor(model => model.Province, new { htmlAttributes = new { @class = "form-control", placeholder = "Province" } })
                            @Html.ValidationMessageFor(model => model.Province, "", new { @class = "text-danger" })
                        </div>

                    </div>
                    <div class="form-group">
                        <div class="col-md-12">
                            <div class="form-group">
                                @Html.LabelFor(model => model.AreaCode, htmlAttributes: new { @class = "control-label col-md-2" })
                                <div class="col-md-3">
                                    @Html.EditorFor(model => model.AreaCode, new { htmlAttributes = new { @class = "form-control", Placeholder = "Area code" } })
                                    @Html.ValidationMessageFor(model => model.AreaCode, "", new { @class = "text-danger" })
                                </div>
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(model => model.EmailAdd, htmlAttributes: new { @class = "control-label col-md-2" })
                                <div class="col-md-3">
                                    @Html.EditorFor(model => model.EmailAdd, new { htmlAttributes = new { @class = "form-control", placeholder = "E-mail" } })
                                    @Html.ValidationMessageFor(model => model.EmailAdd, "", new { @class = "text-danger" })
                                </div>
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(model => model.contactNum, htmlAttributes: new { @class = "control-label col-md-2" })
                                <div class="col-md-3">
                                    @Html.EditorFor(model => model.contactNum, new { htmlAttributes = new { @class = "form-control", placeholder = "Contact number" } })
                                    @Html.ValidationMessageFor(model => model.contactNum, "", new { @class = "text-danger" })
                                </div>
                            </div>

                        </div>


                    </div>
                </div>
                <div class="panel panel-info">
                    <div class="panel-body">
                        <div class="col-md-12">
                            <div class="col-md-6">
                                <div class="form-group">
                                    @Html.LabelFor(model => model.Chapter, htmlAttributes: new { @class = "control-label col-md-3" })
                                    <div class="col-md-7">
                                        @Html.DropDownListFor(model => model.Chapter, new SelectList(Model.ChapList, "id", "name", Model.Chapter), new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.Chapter, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(model => model.bcbpGroup, htmlAttributes: new { @class = "control-label col-md-3" })
                                    <div class="col-md-7">
                                        @Html.EditorFor(model => model.bcbpGroup, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.bcbpGroup, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.Position, htmlAttributes: new { @class = "control-label col-md-3" })
                                    <div class="col-md-7">
                                        @Html.DropDownListFor(model => model.Position, new SelectList(Model.PositionList, "id", "name", Model.Position), new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.Position, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(model => model.AccessType, htmlAttributes: new { @class = "control-label col-md-3" })
                                    <div class="col-md-7">
                                        @Html.DropDownListFor(model => model.AccessType, new SelectList(Model.AccessTypeList, "id", "name", Model.AccessType), new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.AccessType, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">

                                <div class="form-group">
                                    @Html.LabelFor(model => model.SponsorId, htmlAttributes: new { @class = "control-label col-md-3" })
                                    <div class="col-md-7">
                                        @Html.DropDownListFor(model => model.SponsorId, new SelectList(Model.SponsorList, "id", "name", Model.SponsorList), new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.SponsorId, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.YearOfMembership, htmlAttributes: new { @class = "control-label col-md-3" })
                                    <div class="col-md-7">
                                        @Html.DropDownListFor(model => model.YearOfMembership, new SelectList(Model.ListyearOfMembership, "", "", Model.ListyearOfMembership), new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.YearOfMembership, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.CLPNum, htmlAttributes: new { @class = "control-label col-md-3" })
                                    <div class="col-md-7">
                                        @Html.DropDownListFor(model => model.CLPNum, new SelectList(Model.CLPList, "", "", Model.CLPNum), new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.CLPNum, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(model => model.status, htmlAttributes: new { @class = "control-label col-md-3" })
                                    <div class="col-md-7">
                                        @Html.DropDownListFor(model => model.status, new SelectList(Model.StatusList, "id", "name", Model.StatusList), new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.status, "", new { @class = "text-danger" })
                                    </div>
                                </div>



                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        @*<div class="form-group">
                @Html.LabelFor(model => model.image, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.image, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.image, "", new { @class = "text-danger" })
                </div>
            </div>*@

        <div>

            <div class="col-md-1" style="padding:0px">
                <a class="btn btn-default" id="btnSave" style="margin-left: 10px;"><span></span> Save</a>
                @*<input type="submit" value="Create" class="btn btn-default" />*@
            </div>
            <div class="col-md-1" style="padding:0px">
                <a type="button" class="btn btn-default link" href="@Url.Action("Index", "Member")" id="btnAdd" style="margin-left: 10px;"><span></span> Back to list</a>
            </div>
        </div>

    </div>
}



@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript">
        $(document).ready(function () {
                $("select").prop('class', 'selectpicker show-tick form-control');
                $("select").attr('data-live-search', true);
        });


        //Save Modal form
        $('#btnSave').on("click", function () {
            $('#modalLoad').modal("show");
            var model = {
                id: $('#id').val(),
                FirstName: $('#FirstName').val(),
                MidName: $('#MidName').val(),
                LastName: $('#LastName').val(),
                EmailAdd: $('#EmailAdd').val(),
                address: $('#address').val(),
                City: $('#City').val(),
                Province: $('#Province').val(),
                AreaCode: $('#AreaCode').val(),
                contactNum: $('#contactNum').val(),
                bcbpGroup: $('#bcbpGroup').val(),
                Position: $('#Position').val(),
                status: $('#status').val(),
                SponsorId: $('#SponsorId').val(),
                YearOfMembership: $('#YearOfMembership').val(),
                CLPNum: $('#CLPNum').val(),
                Chapter: $('#Chapter').val(),
                AccessType: $('#EmailAdd').val(),
                image: $('#image').val(),
                enteredBy: $('#enteredBy').val(),
                modifiedBy: $('#modifiedBy').val(),
                enteredDate: $('#enteredDate').val(),
                modifiedDate: $('#modifiedDate').val()
            };

            $.ajax({
                url: '@Url.Action("Create", "Member")',
                type: "POST",
                data: { membr: model },
                success: function (result) {
                    $('#modalLoad').modal("hide");
                    if (result.status) {
                        swal({ title: "Success!", text: result.msg, type: "Success" });
                        //location.href = "/Member/Index";
                        //GenerateTable();
                    } else {
                        swal({ title: "Warning!", text: result.msg, type: "warning" });
                    }
                },
            });

         
        });
        //--------------------

    </script>
}
